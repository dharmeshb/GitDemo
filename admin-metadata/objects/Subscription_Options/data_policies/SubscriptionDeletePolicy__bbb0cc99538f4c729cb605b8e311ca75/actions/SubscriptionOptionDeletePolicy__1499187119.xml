<workflow_actions>
<id>1499187119</id>
<name>SubscriptionOptionDeletePolicy</name>
<action_order>1</action_order>
<type>EXECUTE_JAVA_CODE</type>
<subject></subject>
<description></description>
<end_date>0</end_date>
<flag_owner>0</flag_owner>
<owner></owner>
<email_to></email_to>
<email_additional_to></email_additional_to>
<email_from></email_from>
<cc></cc>
<beanshell_code>String option_id = (String)requestParams.get(&quot;id&quot;);
 
Result tenantRec = searchRecords(&quot;Tenants&quot;, &quot;record_id&quot;, &quot;base_subscription_options  equals &quot;+ option_id);
Result tenantSubscriptionOption = searchRecords(&quot;Tenant_Subscription_Plans&quot;,&quot;record_id&quot;, &quot;subscription_option equals &quot;+ option_id ); 
  
 if(tenantRec.getCode() &gt; 0 || tenantSubscriptionOption.getCode() &gt; 0 )
    throwError(&quot;This subscription option is associated with a subscription plan. You can not delete&quot;);</beanshell_code>
<date_created></date_created>
<date_modified></date_modified>
<created_id></created_id>
<modified_id></modified_id>
<policy_id>bbb0cc99538f4c729cb605b8e311ca75</policy_id>
<object_id>63c172bab76a4240bdc36630987739e4</object_id>
<update_column></update_column>
<update_value></update_value>
<soap_server_url></soap_server_url>
<soap_server_port>0</soap_server_port>
<soap_message></soap_message>
<soap_action></soap_action>
<soap_content_type></soap_content_type>
<is_deleted>0</is_deleted>
<editor_type>0</editor_type>
<emailfrom_userid></emailfrom_userid>
<affiliate_id></affiliate_id>
<bcc></bcc>
</workflow_actions>
